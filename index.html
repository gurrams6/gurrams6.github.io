<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Sai Kumar Gurram - Portfolio</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      margin: 0;
      background: linear-gradient(to right, #f0f4f8, #e6f7ff);
    }

    #visitBanner {
      text-align: center;
      background: #d1ecf1;
      padding: 10px;
      font-weight: bold;
    }

    .sidebar {
      width: 250px;
      height: 100vh;
      position: fixed;
      top: 0;
      left: 0;
      background: #212529;
      color: white;
      padding: 20px;
      box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    }

    .sidebar img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      display: block;
      margin: auto;
      margin-bottom: 15px;
      border: 3px solid #ffc107;
    }

    .sidebar h4 {
      text-align: center;
      margin-bottom: 10px;
    }

    .sidebar a {
      display: block;
      color: white;
      text-decoration: none;
      margin: 10px 0;
      padding: 6px 12px;
      border-radius: 4px;
      transition: background 0.2s ease;
    }

    .sidebar a:hover,
    .sidebar a.active {
      background-color: #ffc107;
      color: #212529;
    }

    .main-content {
      margin-left: 270px;
      padding: 30px;
    }

    .analog-clock {
      position: relative;
      width: 120px;
      height: 120px;
      border: 4px solid #ffc107;
      border-radius: 50%;
      margin: 20px auto;
      background: white;
    }

    .hand {
      position: absolute;
      bottom: 50%;
      left: 50%;
      transform-origin: bottom center;
    }

    .hour {
      width: 4px;
      height: 30px;
      background: #343a40;
    }

    .minute {
      width: 3px;
      height: 45px;
      background: #343a40;
    }

    .second {
      width: 2px;
      height: 55px;
      background: red;
    }

    .section {
      margin-top: 40px;
    }

    .bottom-section {
      text-align: center;
      margin-top: 50px;
    }

    .btn-waph {
      margin-top: 20px;
      background-color: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
    }

    .btn-waph:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>

<div id="visitBanner"></div>

<div class="sidebar">
  <img src="images/headshot.png" alt="Sai Kumar">
  <h4>Sai Kumar Gurram</h4>
  <a class="active" href="#about">About</a>
  <a href="#education">Education</a>
  <a href="#experience">Experience</a>
  <a href="#projects">Projects</a>
  <a href="#skills">Skills</a>
  <a href="#api">API Calls</a>
</div>

<div class="main-content">
  <section id="about">
    <h2>About Me</h2>
    <p><strong>Sai Kumar Gurram</strong><br>MS in Computer Science – University of Dayton</p>
    <p><span id="email">saikumar@email.com</span> <a href="#" id="toggleEmail">(Hide Email)</a></p>
    <div class="card bg-info text-white mb-3">
  <div class="card-header">Live Weather</div>
  <div class="card-body" id="weatherAPI">Loading weather...</div>
</div>
    <div id="time" class="mb-2"></div>
    <div class="analog-clock" id="analog">
      <div class="hand hour" id="hour"></div>
      <div class="hand minute" id="minute"></div>
      <div class="hand second" id="second"></div>
    </div>
  </section>

  <section id="education" class="section">
    <h2>Education</h2>
    <p><strong>MS in Computer Science</strong><br>University of Dayton, Expected 2026</p>
    <p><strong>BTech in CSE</strong><br>Princeton Institute of Engineering and Technology</p>
  </section>

  <section id="experience" class="section">
    <h2>Experience</h2>
    <p><strong>Virtusa</strong> – Intern, Jan 2023 to Dec 2024</p>
  </section>

  <section id="projects" class="section">
    <h2>Projects</h2>
    <ul>
      <li>Programmer’s Calculator</li>
      <li>Smart Agri-Commerce Web Application</li>
      <li>Student Result Management System</li>
    </ul>
  </section>

  <section id="skills" class="section">
    <h2>Skills</h2>
    <p><strong>Languages:</strong> Java, Python, C++, HTML, JavaScript</p>
    <p><strong>Tools:</strong> GitHub, Bootstrap, MySQL</p>
  </section>

  <section id="api" class="section">
    <h2>API Calls</h2>
    <p><em>Disclaimer:</em> This content is pulled from public APIs.</p>

    <div class="card bg-warning text-white mb-3">
      <div class="card-header">Joke of the Moment</div>
      <div class="card-body" id="jokeAPI">Loading joke...</div>
    </div>

    <div class="card bg-success text-white mb-3">
      <div class="card-header">Advice of the Moment</div>
      <div class="card-body" id="adviceAPI">Loading advice...</div>
    </div>

    <div class="text-center">
      <a href="waph.html" class="btn btn-waph">Go to WAPH Page</a>
    </div>

    <div class="bottom-section mt-4">
      <a href="https://info.flagcounter.com/XVRC">
        <img src="https://s01.flagcounter.com/count2/XVRC/bg_FF4D17/txt_000000/border_CCCCCC/columns_2/maxflags_10/viewers_0/labels_0/pageviews_0/flags_0/percent_0/" alt="Flag Counter" border="0">
      </a>
    </div>
  </section>
</div>

<script>
function loadWeather() {
  if (!navigator.geolocation) {
    document.getElementById("weatherAPI").textContent = "Geolocation not supported by your browser.";
    return;
  }

  navigator.geolocation.getCurrentPosition(success => {
    const { latitude, longitude } = success.coords;

    // Reverse geocoding to get location name
    fetch(`https://nominatim.openstreetmap.org/reverse?lat=${latitude}&lon=${longitude}&format=json`)
      .then(res => res.json())
      .then(locationData => {
        const locationName = locationData.address.city || locationData.address.town || locationData.address.village || "your area";

        // Fetch weather info
        fetch(`https://api.open-meteo.com/v1/forecast?latitude=${latitude}&longitude=${longitude}&current_weather=true`)
          .then(res => res.json())
          .then(data => {
            const weather = data.current_weather;
            document.getElementById("weatherAPI").innerHTML = `
              <strong>Location:</strong> ${locationName}<br>
              <strong>Temperature:</strong> ${weather.temperature}°C<br>
              <strong>Wind Speed:</strong> ${weather.windspeed} km/h<br>
              <strong>Condition:</strong> ${weather.weathercode === 0 ? 'Clear' : 'Cloudy'}
            `;
          });
      }).catch(() => {
        document.getElementById("weatherAPI").textContent = "Unable to fetch weather data.";
      });

  }, () => {
    document.getElementById("weatherAPI").textContent = "Permission denied to access location.";
  });
}

loadWeather();


  // Visit banner
  const lastVisit = document.cookie.replace(/(?:(?:^|.*;\s*)lastVisit\s*\=\s*([^;]*).*$)|^.*$/, "$1");
  document.getElementById("visitBanner").textContent = lastVisit ?
    `Welcome back! Your last visit was ${decodeURIComponent(lastVisit)}` :
    "Welcome to my homepage for the first time!";
  document.cookie = "lastVisit=" + encodeURIComponent(new Date().toLocaleString()) + "; path=/";

  // Digital clock
  setInterval(() => {
    const now = new Date();
    document.getElementById("time").textContent = now.toLocaleTimeString();
  }, 1000);

  // Analog clock
  function updateAnalogClock() {
    const now = new Date();
    document.getElementById('second').style.transform = `rotate(${now.getSeconds() * 6}deg)`;
    document.getElementById('minute').style.transform = `rotate(${now.getMinutes() * 6}deg)`;
    document.getElementById('hour').style.transform = `rotate(${((now.getHours() % 12) + now.getMinutes() / 60) * 30}deg)`;
  }
  setInterval(updateAnalogClock, 1000);
  updateAnalogClock();

  // Toggle email
  document.getElementById("toggleEmail").onclick = function () {
    const email = document.getElementById("email");
    if (email.style.display === "none") {
      email.style.display = "inline";
      this.textContent = "(Hide Email)";
    } else {
      email.style.display = "none";
      this.textContent = "(Show Email)";
    }
    return false;
  };

  // Joke API
  function loadJoke() {
    fetch("https://v2.jokeapi.dev/joke/Any?type=single")
      .then(res => res.json())
      .then(data => {
        document.getElementById("jokeAPI").textContent = data.joke;
      });
  }
  loadJoke();
  setInterval(loadJoke, 60000);

  // Advice API
  function loadAdvice() {
    fetch("https://api.adviceslip.com/advice")
      .then(res => res.json())
      .then(data => {
        document.getElementById("adviceAPI").textContent = data.slip.advice;
      });
  }
  loadAdvice();
  setInterval(loadAdvice, 60000);
</script>

</body>
</html>
